--[[
    MHBL-HUB | ULTIMATE PREMIUM (SEA 3 FULL)
    Giao di·ªán: Rayfield
    T√≠nh nƒÉng: Fast Attack, Auto Farm, ESP, Auto Chest, SƒÉn Boss
]]

-- 0. T·ªêI ∆ØU & ANTI-AFK
if not game:IsLoaded() then game.Loaded:Wait() end
game:GetService("Players").LocalPlayer.Idled:Connect(function()
    game:GetService("VirtualUser"):Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
    task.wait(1)
    game:GetService("VirtualUser"):Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
end)

-- 1. KI·ªÇM TRA KEY
if getgenv().Key ~= "MHBL-HUB" then
    game.Players.LocalPlayer:Kick("SAI KEY! Vui l√≤ng d√πng ƒë√∫ng l·ªánh Loader.")
    return
end

-- 2. KH·ªûI T·∫†O UI
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local Window = Rayfield:CreateWindow({
   Name = "MHBL-HUB | PREMIUM üçå",
   LoadingTitle = "Banana System Initializing...",
   ImageToggle = { Enabled = true, Image = "rbxassetid://14374867455", Width = 60, Height = 60 }
})

-- 3. BI·∫æN ƒêI·ªÄU KHI·ªÇN
_G.AutoFarm = false
_G.FastAttack = true
_G.AutoStats = false
_G.AutoChest = false
_G.AutoRandom = false
_G.ESP_Player = false
_G.StatPoint = "Melee"

-- 4. H√ÄM PREMIUM
local function Tween(Target)
    pcall(function()
        local Distance = (Target.p - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude
        game:GetService("TweenService"):Create(game.Players.LocalPlayer.Character.HumanoidRootPart, TweenInfo.new(Distance/350, Enum.EasingStyle.Linear), {CFrame = Target}):Play()
    end)
end

-- V√≤ng l·∫∑p Fast Attack (Lu√¥n ch·∫°y ng·∫ßm)
spawn(function()
    while task.wait() do
        if (_G.AutoFarm or _G.AutoChest) and _G.FastAttack then
            pcall(function()
                game:GetService("VirtualUser"):CaptureController()
                game:GetService("VirtualUser"):Button1Down(Vector2.new(1280, 672))
            end)
        end
    end
end)

-- 5. C√ÅC TAB CH·ª®C NƒÇNG
local MainTab = Window:CreateTab("Auto Farm", 4483345998)
local ESPTab = Window:CreateTab("ESP & Player", 4483345998)
local FruitTab = Window:CreateTab("Tr√°i √Åc Qu·ª∑", 4483345998)
local TPTab = Window:CreateTab("D·ªãch Chuy·ªÉn", 4483345998)
local MiscTab = Window:CreateTab("Linh Tinh", 4483345998)

--- [ TAB AUTO FARM ] ---
MainTab:CreateToggle({
   Name = "Auto Farm Level (Sea 3)",
   CurrentValue = false,
   Callback = function(Value) _G.AutoFarm = Value end,
})

MainTab:CreateToggle({
   Name = "ƒê√°nh Si√™u Nhanh (Fast Attack)",
   CurrentValue = true,
   Callback = function(Value) _G.FastAttack = Value end,
})

--- [ TAB ESP ] ---
ESPTab:CreateToggle({
   Name = "Hi·ªán T√™n Ng∆∞·ªùi Ch∆°i (ESP)",
   CurrentValue = false,
   Callback = function(Value)
      _G.ESP_Player = Value
      while _G.ESP_Player do
          task.wait(1)
          for _, v in pairs(game.Players:GetPlayers()) do
              if v ~= game.Players.LocalPlayer and v.Character and not v.Character:FindFirstChild("ESP") then
                  local b = Instance.new("BillboardGui", v.Character)
                  b.Name = "ESP"; b.AlwaysOnTop = true; b.Size = UDim2.new(0, 100, 0, 50)
                  local l = Instance.new("TextLabel", b)
                  l.Text = v.Name; l.Size = UDim2.new(1, 0, 1, 0); l.BackgroundTransparency = 1; l.TextColor3 = Color3.new(1, 0, 0)
              end
          end
      end
   end,
})

--- [ TAB TR√ÅI √ÅC QU·ª∂ ] ---
FruitTab:CreateButton({
   Name = "T·ª± ƒê·ªông Quay Tr√°i (Random)",
   Callback = function() game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("Cousin","BuyItem") end,
})

FruitTab:CreateButton({
   Name = "C·∫•t Tr√°i V√†o Kho (Store)",
   Callback = function()
      for _, v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
          if v:IsA("Tool") and v:FindFirstChild("Fruit") then
              game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("StoreFruit", v:GetAttribute("FruitName"), v)
          end
      end
   end,
})

--- [ TAB D·ªäCH CHUY·ªÇN ] ---
TPTab:CreateLabel("ƒê·ªãa ƒêi·ªÉm Sea 3")
TPTab:CreateButton({ Name = "T·ªõi Mansion", Callback = function() Tween(CFrame.new(-12463, 374, -7523)) end })
TPTab:CreateButton({ Name = "T·ªõi Hydra Island", Callback = function() Tween(CFrame.new(5745, 610, -280)) end })
TPTab:CreateButton({ Name = "T·ªõi Cake Land", Callback = function() Tween(CFrame.new(-2020, 38, -12124)) end })

--- [ TAB LINH TINH ] ---
MiscTab:CreateToggle({
   Name = "Auto Nh·∫∑t R∆∞∆°ng (Farm $)",
   CurrentValue = false,
   Callback = function(Value) _G.AutoChest = Value end,
})

MiscTab:CreateButton({
   Name = "M·ªü Shop Tr√°i √Åc Qu·ª∑",
   Callback = function()
       game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("GetFruits")
       game.Players.LocalPlayer.PlayerGui.Main.FruitShop.Visible = true
   end,
})

Rayfield:Notify({Title = "MHBL-HUB PREMIUM", Content = "Ch√†o Boss! H·ªá th·ªëng ƒë√£ s·∫µn s√†ng.", Duration = 5})
