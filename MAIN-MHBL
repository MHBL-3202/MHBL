--[[
    MHBL-HUB | ULTIMATE PREMIUM (SEA 3 FULL)
    Giao di·ªán: Rayfield
    Tr·∫°ng th√°i: H·∫øt l·ªè - ƒê·∫ßy ƒë·ªß t√≠nh nƒÉng
]]

-- 0. ANTI-AFK & T·ªêI ∆ØU
game:GetService("Players").LocalPlayer.Idled:Connect(function()
    game:GetService("VirtualUser"):Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
    task.wait(1)
    game:GetService("VirtualUser"):Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
end)

-- 1. KI·ªÇM TRA KEY
if getgenv().Key ~= "MHBL-HUB" then
    game.Players.LocalPlayer:Kick("SAI KEY! Vui l√≤ng d√πng ƒë√∫ng l·ªánh Loader.")
    return
end

-- 2. KH·ªûI T·∫†O UI
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local Window = Rayfield:CreateWindow({
   Name = "MHBL-HUB | BANANA EDITION üçå",
   LoadingTitle = "ƒêang n·∫°p h·ªá th·ªëng Sea 3 Premium...",
   ImageToggle = { Enabled = true, Image = "rbxassetid://14374867455", Width = 60, Height = 60 }
})

-- 3. BI·∫æN ƒêI·ªÄU KHI·ªÇN
_G.AutoFarm = false
_G.FastAttack = true
_G.AutoStats = false
_G.StatPoint = "Melee"
_G.AutoRandom = false
_G.AutoStore = false
_G.SelectWeapon = "Melee"
_G.AutoChest = false
_G.AutoElite = false

-- 4. H√ÄM H·ªñ TR·ª¢ CHUY√äN NGHI·ªÜP
local function Tween(Target)
    pcall(function()
        local Distance = (Target.p - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude
        game:GetService("TweenService"):Create(game.Players.LocalPlayer.Character.HumanoidRootPart, TweenInfo.new(Distance/350, Enum.EasingStyle.Linear), {CFrame = Target}):Play()
    end)
end

local function Attack()
    if _G.FastAttack then
        game:GetService("VirtualUser"):CaptureController()
        game:GetService("VirtualUser"):Button1Down(Vector2.new(1280, 672))
    end
end

-- 5. C√ÅC TAB CH·ª®C NƒÇNG (D√†y ƒë·∫∑c n√∫t b·∫•m)
local MainTab = Window:CreateTab("Auto Farm", 4483345998)
local BossTab = Window:CreateTab("SƒÉn Boss", 4483345998)
local StatsTab = Window:CreateTab("Ch·ªâ S·ªë", 4483345998)
local FruitTab = Window:CreateTab("Tr√°i √Åc Qu·ª∑", 4483345998)
local TPTab = Window:CreateTab("D·ªãch Chuy·ªÉn", 4483345998)
local MiscTab = Window:CreateTab("Linh Tinh", 4483345998)

--- [ TAB AUTO FARM ] ---
MainTab:CreateDropdown({
   Name = "Ch·ªçn V≈© Kh√≠ ƒêang D√πng",
   Options = {"Melee","Sword","Fruit"},
   CurrentOption = {"Melee"},
   Callback = function(Option) _G.SelectWeapon = Option[1] end,
})

MainTab:CreateToggle({
   Name = "B·∫≠t Auto Farm Level (Sea 3)",
   CurrentValue = false,
   Callback = function(Value) _G.AutoFarm = Value end,
})

MainTab:CreateToggle({
   Name = "ƒê√°nh Si√™u Nhanh (Fast Attack)",
   CurrentValue = true,
   Callback = function(Value) _G.FastAttack = Value end,
})

--- [ TAB SƒÇN BOSS ] ---
BossTab:CreateToggle({
   Name = "Auto SƒÉn Elite Hunter (Yama)",
   CurrentValue = false,
   Callback = function(Value) _G.AutoElite = Value end,
})

BossTab:CreateButton({
   Name = "Ki·ªÉm tra Boss Elite hi·ªán t·∫°i",
   Callback = function()
       local Progress = game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("EliteHunter","Progress")
       Rayfield:Notify({Title = "Elite Progress", Content = "B·∫°n ƒë√£ di·ªát: "..tostring(Progress).." Boss", Duration = 5})
   end,
})

--- [ TAB AUTO STATS ] ---
StatsTab:CreateDropdown({
   Name = "N√¢ng v√†o ƒëi·ªÉm n√†o?",
   Options = {"Melee","Defense","Sword","Demon Fruit"},
   CurrentOption = {"Melee"},
   Callback = function(Option) _G.StatPoint = Option[1] end,
})

StatsTab:CreateToggle({
   Name = "T·ª± ƒë·ªông c·ªông ƒëi·ªÉm khi l√™n c·∫•p",
   CurrentValue = false,
   Callback = function(Value) _G.AutoStats = Value end,
})

--- [ TAB TR√ÅI √ÅC QU·ª∂ ] ---
FruitTab:CreateToggle({
   Name = "T·ª± ƒë·ªông quay tr√°i (Auto Random)",
   CurrentValue = false,
   Callback = function(Value) _G.AutoRandom = Value end,
})

FruitTab:CreateButton({
   Name = "C·∫•t Tr√°i ƒêang C·∫ßm (Store)",
   Callback = function()
       for _, v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
           if v:IsA("Tool") and v:FindFirstChild("Fruit") then
               game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("StoreFruit", v:GetAttribute("FruitName"), v)
           end
       end
   end,
})

FruitTab:CreateButton({
   Name = "M·ªü Shop Tr√°i √Åc Qu·ª∑ T·ª´ Xa",
   Callback = function()
       game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("GetFruits")
       game.Players.LocalPlayer.PlayerGui.Main.FruitShop.Visible = true
   end,
})

--- [ TAB D·ªäCH CHUY·ªÇN (SEA 3 FULL) ] ---
TPTab:CreateLabel("ƒê·ªãa ƒëi·ªÉm ƒê·∫£o R√πa & Mansion")
TPTab:CreateButton({ Name = "Bay t·ªõi Mansion", Callback = function() Tween(CFrame.new(-12463, 374, -7523)) end })
TPTab:CreateButton({ Name = "Bay t·ªõi Floating Turtle", Callback = function() Tween(CFrame.new(-13274, 532, -8038)) end })
TPTab:CreateLabel("ƒê·ªãa ƒëi·ªÉm C·∫£ng & ƒê·∫£o B√°nh")
TPTab:CreateButton({ Name = "Bay t·ªõi Port Town", Callback = function() Tween(CFrame.new(-290, 7, 5329)) end })
TPTab:CreateButton({ Name = "Bay t·ªõi Cake Land", Callback = function() Tween(CFrame.new(-2020, 38, -12124)) end })
TPTab:CreateButton({ Name = "Bay t·ªõi Hydra Island", Callback = function() Tween(CFrame.new(5745, 610, -280)) end })

--- [ TAB LINH TINH ] ---
MiscTab:CreateToggle({
   Name = "Auto Nh·∫∑t R∆∞∆°ng (Farm $)",
   CurrentValue = false,
   Callback = function(Value) _G.AutoChest = Value end,
})

MiscTab:CreateButton({
   Name = "Nh·∫≠p Code Reset Ch·ªâ S·ªë (N·∫øu c√≥)",
   Callback = function() print("Code system coming soon") end,
})

Rayfield:Notify({Title = "MHBL-HUB PREMIUM", Content = "Ch√†o m·ª´ng Boss! Menu ƒë√£ s·∫µn s√†ng.", Duration = 5})
